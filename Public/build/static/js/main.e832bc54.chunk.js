(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{209:function(e,t,a){e.exports=a(311)},311:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(44),r=a.n(c),o=a(24),i=(a(214),a(36)),u=a(84),d=a.n(u),s=a(81),m=a(136),p=a(193),f=a(358),E=a(189),h=a(355),b=a(356),g=a(360),j=a(353),O=(a(215),a(11)),v=a(357),x=a(354),w=a(366),y=a(368),S=a(367),C=a(363);function I(e){var t=e.updateData,a=n.useState(!1),l=Object(o.a)(a,2),c=l[0],r=l[1],i=n.useState({name:"",site:"",phone:""}),u=Object(o.a)(i,2),d=u[0],m=u[1],p=function(e){m(Object(s.a)(Object(s.a)({},d),{},Object(O.a)({},e.target.id,e.target.value)))},f=function(){r(!1)};return n.createElement("div",null,n.createElement(v.a,{size:"large",variant:"outlined",onClick:function(){r(!0)}},"Add Account"),n.createElement(w.a,{open:c,onClose:f,width:"300px",height:400},n.createElement(C.a,null," New Account "),n.createElement(S.a,{style:{minWidth:"400px"}},n.createElement(x.a,{autoFocus:!0,margin:"dense",id:"name",value:d.name,onChange:function(e){return p(e)},label:"Name",type:"text",fullWidth:!0,variant:"standard"})),n.createElement(S.a,null,n.createElement(x.a,{margin:"dense",id:"site",label:"Account Site",type:"text",onChange:function(e){return p(e)},value:d.site,fullWidth:!0,variant:"standard"})),n.createElement(S.a,null,n.createElement(x.a,{margin:"dense",id:"phone",label:"Phone",type:"text",onChange:function(e){return p(e)},value:d.phone,fullWidth:!0,variant:"standard"})),n.createElement(y.a,null,n.createElement(v.a,{onClick:f},"Cancel"),n.createElement(v.a,{onClick:function(){t({url:"/create",method:"POST",data:d}),r(!1)}},"Save"))))}var k=a(362),P=["editing","dataIndex","title","inputType","record","index","children"],D=function(e){var t=e.editing,a=e.dataIndex,n=e.title,c=e.inputType,r=(e.record,e.index,e.children),o=Object(p.a)(e,P),i="number"===c?l.a.createElement(f.a,null):l.a.createElement(E.a,null);return l.a.createElement("td",o,t?l.a.createElement(h.a.Item,{name:a,style:{margin:0},rules:[{required:!0,message:"Please Input ".concat(n,"!")}]},i):r)},N=function(e){var t=e.accounts,a=e.updateData,c=h.a.useForm(),r=Object(o.a)(c,1)[0],u=Object(n.useState)(t),p=Object(o.a)(u,2),f=p[0],E=p[1],O=Object(n.useState)(""),v=Object(o.a)(O,2),x=v[0],w=v[1],y=Object(n.useState)(!1),S=Object(o.a)(y,2),C=(S[0],S[1]),P=Object(n.useState)(!1),N=Object(o.a)(P,2),T=N[0],A=N[1],F=function(e){return e.Id===x},L=function(){w("")},W=function(){var e=Object(m.a)(d.a.mark(function e(t){var n,l;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,A(!0),C(!0),e.next=5,r.getFieldsValue();case 5:n=e.sent,l={method:"PUT",url:"/update",data:Object(s.a)({Id:t},n)},console.log(n),a(l),w(""),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log("Validate Failed:",e.t0);case 15:case"end":return e.stop()}},e,null,[[0,12]])}));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(m.a)(d.a.mark(function e(t){var n,l,c,r;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:console.log("delete-key",t),A(!0),n={method:"DELETE",url:"/",data:{Id:t}},l=Object(i.a)(f),c=l.findIndex(function(e){return t===e.Id}),console.log("----index---",c),a(n),c>-1&&(r=l[c],console.log("item",r),l.splice(c,1),E(l),w(""));case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),V=[{title:"Name",dataIndex:"Name",width:"25%",editable:!0},{title:"Phone",dataIndex:"Phone",width:"15%",editable:!0},{title:"Site",dataIndex:"Site",width:"40%",editable:!0},{title:"Actions",dataIndex:"CleanStatus",render:function(e,t){return F(t)?l.a.createElement("span",null,l.a.createElement(b.a.Link,{onClick:function(){return W(t.Id)},style:{marginRight:8}},"Save"),l.a.createElement(b.a.Link,{style:{marginRight:8}},l.a.createElement(g.a,{title:"Sure to delete?",onConfirm:function(){return z(t.Id)}},l.a.createElement("a",null," Delete"))),l.a.createElement(b.a.Link,{title:"Cancel",onClick:L},l.a.createElement("a",null,"Cancel"))):l.a.createElement(b.a.Link,{disabled:""!==x,onClick:function(){return function(e){r.setFieldsValue({Name:e.Name,Phone:e.Phone,Site:e.Site}),w(e.Id)}(t)}},"Edit")}}].map(function(e){return e.editable?Object(s.a)(Object(s.a)({},e),{},{onCell:function(t){return{record:t,inputType:"text",dataIndex:e.dataIndex,title:e.title,editing:F(t)}}}):e});return l.a.createElement(k.a,{flexDirection:"column"},l.a.createElement(k.a,{item:!0,padding:2,display:"flex",justifyContent:"flex-end"},l.a.createElement(I,{updateData:a})),l.a.createElement(k.a,{item:!0},T?l.a.createElement("p",null,"Please wait..."):l.a.createElement(h.a,{form:r,component:!1},l.a.createElement(j.a,{components:{body:{cell:D}},bordered:!0,dataSource:f,columns:V,rowClassName:"editable-row",pagination:{onChange:L}}))))},T=a(153),A=a.n(T),F=a(365),L=a(188);var W=function(){var e=Object(n.useState)(),t=Object(o.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(),i=Object(o.a)(r,2),u=i[0],d=i[1],s=Object(n.useState)(!1),m=Object(o.a)(s,2),p=m[0],f=m[1];console.log("updateData",u);var E="".concat("http://localhost:5000/","salesForce"),h={"content-type":"application/json"};return Object(n.useEffect)(function(){console.log("1"),f(!0),console.log(E),A()({method:"get",headers:h,url:E+"/"}).then(function(e){f(!1),c(e.data)}).catch(function(e){console.log(e)})},[]),Object(n.useEffect)(function(){console.log("2"),u&&A()({url:E+u.url,method:u.method,headers:h,data:u.data}).then(function(e){console.log(e),f(!1),window.location.reload()})},[u]),l.a.createElement(k.a,{justify:"center",align:"center"},l.a.createElement(k.a,{md:10,marginTop:10},console.log("loading",p),a?l.a.createElement(F.a,{variant:"outlined"},l.a.createElement(N,{accounts:a,updateData:d,size:"middle",style:{width:"80%",margin:"auto"}})):l.a.createElement("p",{style:{textAlign:"center",top:"50"}},l.a.createElement(L.a,{size:"large",spinning:p}))))};r.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(W,null)),document.getElementById("root"))}},[[209,1,2]]]);
//# sourceMappingURL=main.e832bc54.chunk.js.map